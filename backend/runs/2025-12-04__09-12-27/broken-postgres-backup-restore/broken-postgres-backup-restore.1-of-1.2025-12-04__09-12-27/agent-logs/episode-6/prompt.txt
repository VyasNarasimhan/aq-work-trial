>
> # Import users using PostgreSQL COPY command
> print("Importing users...")
> result = subprocess.run([
>     'su', '-', 'postgres', '-c',
>     "psql production_db -c \"COPY users(user_id, username, email, created_at, status) FROM '/backup/clean_users.csv' WITH (FORMAT csv, HEADER true);\""
> ], capture_output=True, text=True)
> print(result.stdout)
> if result.returncode != 0:
>     print(f"Error: {result.stderr}")
>
> # Import transactions from JSON
> print("\nImporting transactions...")
> with open('/backup/valid_transactions.json', 'r') as f:
>     transactions = json.load(f)
>
> # Create SQL file for transactions
> with open('/tmp/transactions.sql', 'w') as f:
>     for txn in transactions:
>         f.write(f"INSERT INTO transactions (transaction_id, user_id, amount, timestamp, description) VALUES ({txn['transaction_id']}, {txn['user_id']}, {txn['
amount']}, '{txn['timestamp']}', '{txn['description'].replace(\"'\", \"''\")}');\n")
>
> result = subprocess.run([
>     'su', '-', 'postgres', '-c',
>     "psql production_db < /tmp/transactions.sql"
> ], capture_output=True, text=True)
> print(result.stdout)
> if result.returncode != 0:
>     print(f"Error: {result.stderr}")
>
> print("\nData import complete!")
> EOF
root@f65ac99d5418:/backup# python3 /backup/import_data.py; tmux wait -S done
  File "/backup/import_data.py", line 23
    f.write(f"INSERT INTO transactions (transaction_id, user_id, amount, timestamp, description) VALUES ({txn['transaction_id']}, {txn['user_id']}, {txn['amount
']}, '{txn['timestamp']}', '{txn['description'].replace(\"'\", \"''\")}');\n")

                                                         ^
SyntaxError: unexpected character after line continuation character
root@f65ac99d5418:/backup#
