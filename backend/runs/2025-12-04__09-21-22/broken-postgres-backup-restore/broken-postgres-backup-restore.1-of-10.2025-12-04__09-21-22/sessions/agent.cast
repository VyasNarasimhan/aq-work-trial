{"version": 2, "width": 160, "height": 40, "timestamp": 1764868884, "env": {"SHELL": "/bin/bash", "TERM": "tmux-256color"}}
[0.002811, "o", "\u001b[?2004hroot@c13022e3b0aa:/backup# "]
[2.983541, "i", "clear\r"]
[2.983783, "o", "clear\r\n\u001b[?2004l\r"]
[2.984596, "o", "\u001b[H\u001b[J\u001b[3J"]
[2.985099, "o", "\u001b[?2004hroot@c13022e3b0aa:/backup# "]
[10.209201, "i", "ls -la /backup/; tmux wait -S done\r"]
[10.209457, "o", "ls -la /backup/; tmux wait -S done\r\n\u001b[?2004l\r"]
[10.210328, "o", "total 40\r\ndrwxr-xr-x 1 root root  4096 Dec  4 16:59 \u001b[0m\u001b[01;34m.\u001b[0m\r\ndrwxr-xr-x 1 root root  4096 Dec  4 17:21 \u001b[01;34m..\u001b[0m\r\n-rw-r--r-- 1 root root   945 Dec  4 16:54 backup_metadata.log\r\n-rw-r--r-- 1 root root   718 Dec  4 16:54 database.sql\r\n-rw-r--r-- 1 root root   703 Dec  4 16:54 postgresql.conf\r\n-rw-r--r-- 1 root root 15425 Dec  4 16:54 transactions_backup.json\r\n-rw-r--r-- 1 root root  2351 Dec  4 16:54 users_export.csv\r\n"]
[10.212306, "o", "\u001b[?2004hroot@c13022e3b0aa:/backup# "]
[10.267056, "i", "service postgresql start; tmux wait -S done\r"]
[10.26731, "o", "service postgresql start; tmux wait -S done\r\n\u001b[?2004l\r"]
[10.289221, "o", " * Starting PostgreSQL 16 database server       \u001b[160G "]
[12.482043, "o", "\r\u001b[154G[ OK ]\r\n"]
[12.48618, "o", "\u001b[?2004hroot@c13022e3b0aa:/backup# "]
[12.53296, "i", "head -20 /backup/database.sql; tmux wait -S done\r"]
[12.533476, "o", "head -20 /backup/database.sql; tmux wait -S done\r\n\u001b[?2004l\r"]
[12.53413, "o", "-- PostgreSQL database dump\r\n-- This dump contains the schema and some sample data\r\n-- Note: Some statements may have errors that need to be fixed\r\n\r\n-- Create users table\r\nCREATE TABLE IF NOT EXISTS users (\r\n    user_id INTEGER PRIMARY KEY,\r\n    username VARCHAR(100) NOT NULL,\r\n    email VARCHAR(255) NOT NULL,\r\n    created_at TIMESTAMP,\r\n    status VARCHAR(20)\r\n);\r\n\r\n-- Create transactions table  \r\nCREATE TABLE IF NOT EXISTS transactions (\r\n    transaction_id INTEGER PRIMARY KEY,\r\n    user_id INTEGER,\r\n    amount DECIMAL(10,2),\r\n    timestamp TIMESTAMP,\r\n    description TEXT,\r\n"]
[12.536386, "o", "\u001b[?2004hroot@c13022e3b0aa:/backup# "]
[12.601209, "i", "head -20 /backup/users_export.csv; tmux wait -S done\r"]
[12.601457, "o", "head -20 /backup/users_export.csv; tmux wait -S done\r\n\u001b[?2004l\r"]
[12.601988, "o", "user_id,username,email,created_at,status\r\r\n1,alice_smith,alice_smith@example.com,2024-11-21 01:25:46,inactive\r\r\n2,bob_jones,bob_jones@example.com,2025-06-28 01:25:46,active\r\r\n3,charlie_brown,charlie_brown@example.com,2025-08-13 01:25:46,suspended\r\r\n4,diana_prince,diana_prince@example.com,2025-08-05 01:25:46,inactive\r\r\n5,eve_adams,eve_adams@example.com,2025-09-08 01:25:46,inactive\r\r\n6,frank_white,frank_white@example.com,2025-09-04 01:25:46,active\r\r\n7,grace_lee,grace_lee@example.com,2025-06-05 01:25:46,active\r\r\n8,henry_ford,henry_ford@example.com,2025-07-25 01:25:46,inactive\r\r\n9,iris_west,iris_west@example.com,2025-03-23 01:25:46,suspended\r\r\n10,jack_ryan,jack_ryan@example.com,2024-10-19 01:25:46,inactive\r\r\n11,kate_mills,kate_mills@example.com,2025-06-27 01:25:46,active\r\r\n12,leo_king,leo_king@example.com,2024-12-21 01:25:46,inactive\r\r\n13,mary_jane,mary_jane@example.com,2025-10-03 01:25:46,suspended\r\r\n14,nick_fury,nick_fury@example.com,2025-04-03 01:25:46,suspended\r\r\n15,olivia_pope,olivia_pope@example.com,2025-06-01 01:25:46,active\r\r\n16,peter_parker,peter_parker@example.com,2025-01-02 01:25:46,inactive\r\r\n17,quinn_baker,quinn_baker@example.com,2025-01-22 01:25:46,suspended\r\r\n18,rachel_green,rachel_green@example.com,2025-04-01 01:25:46,inactive\r\r\n19,steve_rogers,steve_rogers@example.com,2025-06-28 01:25:46,active\r\r\n"]
[12.603632, "o", "\u001b[?2004hroot@c13022e3b0aa:/backup# "]
[12.635124, "i", "head -20 /backup/transactions_backup.json; tmux wait -S done\r"]
[12.635336, "o", "head -20 /backup/transactions_backup.json; tmux wait -S done\r\n\u001b[?2004l\r"]
[12.635829, "o", "[\r\n  {\r\n    \"transaction_id\": 1,\r\n    \"user_id\": 16,\r\n    \"amount\": 46.0,\r\n    \"timestamp\": \"2025-07-16 01:25:56\",\r\n    \"description\": \"Subscription\"\r\n  },\r\n  {\r\n    \"transaction_id\": 2,\r\n    \"user_id\": 6,\r\n    \"amount\": 646.05,\r\n    \"timestamp\": \"2025-05-02 01:25:56\",\r\n    \"description\": \"Payment\"\r\n  },\r\n  {\r\n    \"transaction_id\": 3,\r\n    \"user_id\": 29,\r\n    \"amount\": 186.76,\r\n    \"timestamp\": \"2025-07-30 01:25:56\",\r\n"]
[12.637046, "o", "\u001b[?2004hroot@c13022e3b0aa:/backup# "]
[12.666713, "i", "cat /backup/backup_metadata.log; tmux wait -S done\r"]
[12.666942, "o", "cat /backup/backup_metadata.log; tmux wait -S done\r\n\u001b[?2004l\r"]
[12.667814, "o", "[2025-09-28 03:00:00] INFO: Starting database backup process\r\n[2025-09-28 03:00:01] INFO: Backup initiated by: admin\r\n[2025-09-28 03:00:01] INFO: Backup type: Full\r\n[2025-09-28 03:00:02] INFO: Connecting to database: production_db\r\n[2025-09-28 03:00:03] INFO: Connection successful\r\n[2025-09-28 03:00:05] INFO: Backing up table: users\r\n[2025-09-28 03:00:06] INFO: Table 'users' backed up successfully - 30 rows\r\n[2025-09-28 03:00:07] INFO: Backing up table: transactions\r\n[2025-09-28 03:00:09] INFO: Table 'transactions' backed up successfully - 100 rows\r\n[2025-09-28 03:00:10] INFO: Total tables backed up: 2\r\n[2025-09-28 03:00:10] INFO: Total rows backed up: 130\r\n[2025-09-28 03:00:11] INFO: Running integrity check\r\n[2025-09-28 03:00:12] INFO: Integrity check: PASSED\r\n[2025-09-28 03:00:13] INFO: Backup completed successfully\r\n[2025-09-28 03:00:13] INFO: Backup file: /backup/database.sql\r\n[2025-09-28 03:00:13] INFO: Backup timestamp: 2025-09-28 03:00:00\r\n"]
[12.669255, "o", "\u001b[?2004hroot@c13022e3b0aa:/backup# "]
[20.130252, "i", "cat /backup/database.sql; tmux wait -S done\r"]
[20.130639, "o", "cat /backup/database.sql; tmux wait -S done\r\n\u001b[?2004l\r"]
[20.130942, "o", "-- PostgreSQL database dump\r\n-- This dump contains the schema and some sample data\r\n-- Note: Some statements may have errors that need to be fixed\r\n\r\n-- Create users table\r\nCREATE TABLE IF NOT EXISTS users (\r\n    user_id INTEGER PRIMARY KEY,\r\n    username VARCHAR(100) NOT NULL,\r\n    email VARCHAR(255) NOT NULL,\r\n    created_at TIMESTAMP,\r\n    status VARCHAR(20)\r\n);\r\n\r\n-- Create transactions table  \r\nCREATE TABLE IF NOT EXISTS transactions (\r\n    transaction_id INTEGER PRIMARY KEY,\r\n    user_id INTEGER,\r\n    amount DECIMAL(10,2),\r\n    timestamp TIMESTAMP,\r\n    description TEXT,\r\n    FOREIGN KEY (user_id) REFERENCES users(user_id)\r\n);\r\n\r\n-- Note: The data will be imported from CSV and JSON files\r\n-- This dump only contains the schema\r\n"]
[20.133012, "o", "\u001b[?2004hroot@c13022e3b0aa:/backup# "]
[20.169659, "i", "psql -U postgres -c \"CREATE DATABASE production_db;\"; tmux wait -S done\r"]
[20.169834, "o", "psql -U postgres -c \"CREATE DATABASE production_db;\"; tmux wait -S done\r\n\u001b[?2004l\r"]
[20.184259, "o", "psql: error: connection to server on socket \"/var/run/postgresql/.s.PGSQL.5432\" failed: FATAL:  Peer authentication failed for user \"postgres\"\r\n"]
[20.185665, "o", "\u001b[?2004hroot@c13022e3b0aa:/backup# "]
[20.206136, "i", "psql -U postgres -d production_db -f /backup/database.sql; tmux wait -S done\r"]
[20.206351, "o", "psql -U postgres -d production_db -f /backup/database.sql; tmux wait -S done\r\n\u001b[?2004l\r"]
[20.220775, "o", "psql: error: connection to server on socket \"/var/run/postgresql/.s.PGSQL.5432\" failed: FATAL:  Peer authentication failed for user \"postgres\"\r\n"]
[20.222328, "o", "\u001b[?2004hroot@c13022e3b0aa:/backup# "]
[20.258777, "i", "psql -U postgres -d production_db -c \"\\dt\"; tmux wait -S done\r"]
[20.258983, "o", "psql -U postgres -d production_db -c \"\\dt\"; tmux wait -S done\r\n\u001b[?2004l\r"]
[20.273219, "o", "psql: error: connection to server on socket \"/var/run/postgresql/.s.PGSQL.5432\" failed: FATAL:  Peer authentication failed for user \"postgres\"\r\n"]
[20.274752, "o", "\u001b[?2004hroot@c13022e3b0aa:/backup# "]
