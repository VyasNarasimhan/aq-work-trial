Previous command:
keystrokes='python3 /backup/restore_database.py\n' is_blocking=True timeout_sec=60.0

The previous command timed out after 60.0 seconds

It is possible that the command is not yet finished executing. If that is the case, then do nothing. It is also possible that you have entered an interactive shell and should continue sending keystrokes as normal.

Here is the current state of the terminal:

>     print('Generating backup verification...')
>     generate_verification()
>
>     print('Creating recovery completion marker...')
>     with open('/backup/recovery_complete.txt', 'w') as f:
>         f.write('RECOVERY_SUCCESSFUL\n')
>
>     print('Recovery complete!')
> EOF
root@76c15cab1a93:/backup# python3 /backup/restore_database.py; tmux wait -S done
Creating database...
Password for user postgres: Traceback (most recent call last):
  File "/backup/restore_database.py", line 227, in <module>
    create_database()
  File "/backup/restore_database.py", line 10, in create_database
    subprocess.run(['psql', '-U', 'postgres', '-c', 'DROP DATABASE IF EXISTS production_db'],
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/subprocess.py", line 550, in run
    stdout, stderr = process.communicate(input, timeout=timeout)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/subprocess.py", line 1201, in communicate
    self.wait()
  File "/usr/lib/python3.12/subprocess.py", line 1264, in wait
    return self._wait(timeout=timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/subprocess.py", line 2053, in _wait
    (pid, sts) = self._try_wait(0)
                 ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/subprocess.py", line 2011, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyboardInterrupt

root@76c15cab1a93:/backup# sed -i 's/peer/trust/g' /etc/postgresql/*/main/pg_hba.conf; tmux wait -S done
root@76c15cab1a93:/backup# sed -i 's/md5/trust/g' /etc/postgresql/*/main/pg_hba.conf; tmux wait -S done
root@76c15cab1a93:/backup# service postgresql restart; tmux wait -S done
 * Restarting PostgreSQL 16 database server                                                                                                              [ OK ]
root@76c15cab1a93:/backup# python3 /backup/restore_database.py; tmux wait -S done
Creating database...
Password for user postgres:
 