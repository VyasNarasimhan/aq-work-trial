> print('Backup verification generated')
> EOF
root@9d5ed6174de7:/backup# python3 /tmp/generate_verification.py; tmux wait -S done
Backup verification generated
root@9d5ed6174de7:/backup# cat /backup/backup_verification.txt; tmux wait -S done
BACKUP VERIFICATION
===================
Backup Date: 2025-09-28 03:00:00
Tables Backed Up: 2
Total Rows: 130
Integrity Check: PASSED
root@9d5ed6174de7:/backup# echo 'RECOVERY_SUCCESSFUL' > /backup/recovery_complete.txt; tmux wait -S done
root@9d5ed6174de7:/backup# ls -la /backup/*.txt /backup/*.csv /backup/*.json; tmux wait -S done
-rw-r--r-- 1 root root   133 Dec  4 19:05 /backup/backup_verification.txt
-rw-r--r-- 1 root root  2052 Dec  4 19:04 /backup/clean_users.csv
-rw-r--r-- 1 root root   145 Dec  4 19:05 /backup/db_stats.txt
-rw-r--r-- 1 root root    20 Dec  4 19:05 /backup/recovery_complete.txt
-rw-r--r-- 1 root root   219 Dec  4 19:05 /backup/top_users.csv
-rw-r--r-- 1 root root 15425 Dec  4 16:54 /backup/transactions_backup.json
-rw-r--r-- 1 root root  2351 Dec  4 16:54 /backup/users_export.csv
-rw-r--r-- 1 root root 14573 Dec  4 19:04 /backup/valid_transactions.json
root@9d5ed6174de7:/backup# echo '--- Verifying all files ---'; tmux wait -S done
--- Verifying all files ---
root@9d5ed6174de7:/backup# wc -l /backup/clean_users.csv /backup/top_users.csv; tmux wait -S done
  31 /backup/clean_users.csv
  11 /backup/top_users.csv
  42 total
root@9d5ed6174de7:/backup# su - postgres -c "psql -d production_db -c 'SELECT COUNT(*) as users FROM users; SELECT COUNT(*) as transactions FROM transactions;'"
; tmux wait -S done
 users
-------
    30
(1 row)

 transactions
--------------
          100
(1 row)

root@9d5ed6174de7:/backup#
