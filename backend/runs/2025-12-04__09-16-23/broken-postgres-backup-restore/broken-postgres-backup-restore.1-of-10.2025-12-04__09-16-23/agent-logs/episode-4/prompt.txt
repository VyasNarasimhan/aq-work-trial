psql: error: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: FATAL:  Peer authentication failed for user "postgres"
root@fa3327fd3fc4:/backup# cat > /tmp/import_transactions.py << 'EOF'
> import json
> import psycopg2
>
> # Load transactions
> with open('/backup/valid_transactions.json', 'r') as f:
>     transactions = json.load(f)
>
> # Connect to database
> conn = psycopg2.connect(
>     dbname='production_db',
>     user='postgres',
>     host='localhost'
> )
> cur = conn.cursor()
>
> # Insert transactions
> for txn in transactions:
>     cur.execute(
>         "INSERT INTO transactions (transaction_id, user_id, amount, timestamp, description) VALUES (%s, %s, %s, %s, %s)",
>         (txn['transaction_id'], txn['user_id'], txn['amount'], txn['timestamp'], txn['description'])
>     )
>
> conn.commit()
> cur.close()
> conn.close()
>
> print(f"Imported {len(transactions)} transactions")
> EOF
root@fa3327fd3fc4:/backup# python3 /tmp/import_transactions.py; tmux wait -S done
Traceback (most recent call last):
  File "/tmp/import_transactions.py", line 2, in <module>
    import psycopg2
ModuleNotFoundError: No module named 'psycopg2'
root@fa3327fd3fc4:/backup# psql -U postgres -d production_db -c "SELECT COUNT(*) as total_users FROM users;"; tmux wait -S done
psql: error: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: FATAL:  Peer authentication failed for user "postgres"
root@fa3327fd3fc4:/backup# psql -U postgres -d production_db -c "SELECT COUNT(*) as total_transactions FROM transactions;"; tmux wait -S done
psql: error: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: FATAL:  Peer authentication failed for user "postgres"
root@fa3327fd3fc4:/backup#
