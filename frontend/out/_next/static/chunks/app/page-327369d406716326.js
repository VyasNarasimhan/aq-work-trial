(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3178:(e,a,r)=>{"use strict";r.d(a,{DropZone:()=>h});var t=r(5155),n=r(2115),s=r(63),l=r(7325);function o(e){let{value:a,onChange:r,detectedFormat:n,disabled:s}=e;return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Select Harness"}),n&&"unknown"!==n&&(0,t.jsxs)("p",{className:"text-sm text-blue-600",children:["Detected format:"," ","harbor"===n?"task.toml (Harbor)":"task.yaml (Terminus)"]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:[{value:"harbor",label:"Harbor",description:"Uses task.toml configuration"},{value:"terminus",label:"Terminus (Terminal-Bench)",description:"Uses task.yaml configuration"}].map(e=>(0,t.jsxs)("button",{type:"button",disabled:s,onClick:()=>r(e.value),className:"\n              p-4 rounded-lg border-2 text-left transition-colors\n              ".concat(a===e.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300","\n              ").concat(s?"opacity-50 cursor-not-allowed":"cursor-pointer","\n            "),children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:e.label}),(0,t.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:e.description})]},e.value))})]})}let c=[{value:"openrouter/anthropic/claude-sonnet-4",label:"Claude Sonnet 4"},{value:"openrouter/anthropic/claude-sonnet-4.5",label:"Claude Sonnet 4.5"},{value:"openrouter/openai/gpt-5",label:"GPT-5"},{value:"openrouter/google/gemini-2.0-flash-lite-001",label:"Gemini 2.0 Flash"}],i="openrouter/openai/gpt-5";function d(e){let{value:a,onChange:r,disabled:n}=e;return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Select Model"}),(0,t.jsx)("select",{value:a,onChange:e=>r(e.target.value),disabled:n,className:"\n          w-full p-3 rounded-lg border-2 border-gray-200\n          bg-white text-gray-900\n          focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none\n          transition-colors\n          ".concat(n?"opacity-50 cursor-not-allowed bg-gray-50":"cursor-pointer hover:border-gray-300","\n        "),children:c.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]})}let u="harbor";function h(){let[e,a]=(0,n.useState)(!1),[r,c]=(0,n.useState)(!1),[h,m]=(0,n.useState)(null),[b,p]=(0,n.useState)(""),[g,x]=(0,n.useState)(null),[f,y]=(0,n.useState)(u),[v,k]=(0,n.useState)(i),[j,N]=(0,n.useState)(!1),w=(0,n.useRef)(null),C=(0,s.useRouter)(),S=(0,n.useCallback)(async e=>{if(!e.name.endsWith(".zip"))return void m("Please upload a .zip file");c(!0),m(null),p("Uploading file...");try{let a=await l.F.uploadFile(e);x(a),"harbor"===a.detected_format?y("harbor"):"terminus"===a.detected_format&&y("terminus"),c(!1),p("")}catch(e){m(e instanceof Error?e.message:"Upload failed"),c(!1),p("")}},[]),F=(0,n.useCallback)(async()=>{if(g){N(!0),m(null);try{let{id:e}=await l.F.createBenchmark(g.upload_id,f,v);C.push("/benchmarks?id=".concat(e))}catch(e){m(e instanceof Error?e.message:"Failed to start benchmark"),N(!1)}}},[g,f,v,C]),_=(0,n.useCallback)(()=>{x(null),y(u),k(i),m(null)},[]),E=(0,n.useCallback)(e=>{e.preventDefault(),a(!1);let r=e.dataTransfer.files[0];r&&S(r)},[S]),D=(0,n.useCallback)(e=>{var a;let r=null==(a=e.target.files)?void 0:a[0];r&&S(r)},[S]);return g?(0,t.jsx)("div",{className:"border-2 border-gray-200 rounded-xl p-8 bg-white",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Configure Benchmark"}),(0,t.jsxs)("p",{className:"text-gray-600 mt-1",children:["Task: ",(0,t.jsx)("span",{className:"font-medium",children:g.task_name})]})]}),(0,t.jsx)(o,{value:f,onChange:y,detectedFormat:g.detected_format,disabled:j}),(0,t.jsx)(d,{value:v,onChange:k,disabled:j}),h&&(0,t.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,t.jsx)("p",{className:"text-red-600 text-sm",children:h})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:_,disabled:j,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:F,disabled:j,className:"flex-1 px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"Starting..."]}):"Start Benchmark"})]})]})}):(0,t.jsxs)("div",{onDragOver:e=>{e.preventDefault(),a(!0)},onDragLeave:()=>a(!1),onDrop:E,onClick:()=>{if(!g){var e;null==(e=w.current)||e.click()}},className:"\n        border-2 border-dashed rounded-xl p-12 text-center\n        transition-colors cursor-pointer\n        ".concat(e?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50","\n        ").concat(r?"pointer-events-none opacity-75":"","\n      "),children:[(0,t.jsx)("input",{ref:w,type:"file",accept:".zip",onChange:D,className:"hidden"}),r?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto"}),(0,t.jsx)("p",{className:"text-gray-600",children:b})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-5xl mb-4",children:"\uD83D\uDCE6"}),(0,t.jsx)("p",{className:"text-gray-700 font-medium text-lg",children:"Drag and drop your task zip file here"}),(0,t.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"or click to browse"})]}),h&&(0,t.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,t.jsx)("p",{className:"text-red-600 text-sm",children:h})})]})}},4230:(e,a,r)=>{Promise.resolve().then(r.t.bind(r,2619,23)),Promise.resolve().then(r.bind(r,3178))},7325:(e,a,r)=>{"use strict";r.d(a,{F:()=>l,R:()=>s});let t={apiUrl:r(5704).env.NEXT_PUBLIC_API_URL||"http://ec2-54-184-121-95.us-west-2.compute.amazonaws.com:5001"},n="".concat(t.apiUrl,"/api");async function s(e,a){let r=await fetch("".concat(n,"/benchmarks/").concat(e,"/runs/").concat(a,"/logs"));if(!r.ok)throw Error("Failed to fetch logs");return r.json()}let l={async uploadFile(e){let a=new FormData;a.append("file",e);let r=await fetch("".concat(n,"/upload"),{method:"POST",body:a});if(!r.ok)throw Error((await r.json()).error||"Upload failed");return r.json()},async createBenchmark(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"harbor",r=arguments.length>2?arguments[2]:void 0,t=await fetch("".concat(n,"/benchmarks"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({upload_id:e,harness:a,model:r})});if(!t.ok)throw Error((await t.json()).error||"Failed to create benchmark");return t.json()},async listBenchmarks(){let e=await fetch("".concat(n,"/benchmarks"));if(!e.ok)throw Error("Failed to fetch benchmarks");return e.json()},async getBenchmark(e){let a=await fetch("".concat(n,"/benchmarks/").concat(e));if(!a.ok)throw Error("Benchmark not found");return a.json()},async getRuns(e){let a=await fetch("".concat(n,"/benchmarks/").concat(e,"/runs"));if(!a.ok)throw Error("Failed to fetch runs");return a.json()},async getRunLogs(e,a){let r=await fetch("".concat(n,"/benchmarks/").concat(e,"/runs/").concat(a,"/logs"));if(!r.ok)throw Error("Failed to fetch logs");return r.json()}}}},e=>{e.O(0,[176,441,255,358],()=>e(e.s=4230)),_N_E=e.O()}]);