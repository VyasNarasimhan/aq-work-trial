(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4230:(e,r,a)=>{Promise.resolve().then(a.t.bind(a,2619,23)),Promise.resolve().then(a.bind(a,7312))},7312:(e,r,a)=>{"use strict";a.d(r,{DropZone:()=>s});var t=a(5155),n=a(2115),o=a(63),c=a(7325);function s(){let[e,r]=(0,n.useState)(!1),[a,s]=(0,n.useState)(!1),[l,i]=(0,n.useState)(null),[d,h]=(0,n.useState)(""),u=(0,n.useRef)(null),p=(0,o.useRouter)(),m=(0,n.useCallback)(async e=>{if(!e.name.endsWith(".zip"))return void i("Please upload a .zip file");s(!0),i(null),h("Uploading file...");try{let r=await c.F.uploadFile(e);h('Starting benchmark for "'.concat(r.task_name,'"...'));let{id:a}=await c.F.createBenchmark(r.upload_id,"harbor","openrouter/openai/gpt-5");p.push("/benchmarks?id=".concat(a))}catch(e){i(e instanceof Error?e.message:"Upload failed"),s(!1),h("")}},[p]),f=(0,n.useCallback)(e=>{e.preventDefault(),r(!1);let a=e.dataTransfer.files[0];a&&m(a)},[m]),b=(0,n.useCallback)(e=>{var r;let a=null==(r=e.target.files)?void 0:r[0];a&&m(a)},[m]);return(0,t.jsxs)("div",{onDragOver:e=>{e.preventDefault(),r(!0)},onDragLeave:()=>r(!1),onDrop:f,onClick:()=>{var e;null==(e=u.current)||e.click()},className:"\n        border-2 border-dashed rounded-xl p-12 text-center\n        transition-colors cursor-pointer\n        ".concat(e?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50","\n        ").concat(a?"pointer-events-none opacity-75":"","\n      "),children:[(0,t.jsx)("input",{ref:u,type:"file",accept:".zip",onChange:b,className:"hidden"}),a?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto"}),(0,t.jsx)("p",{className:"text-gray-600",children:d})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-5xl mb-4",children:"\uD83D\uDCE6"}),(0,t.jsx)("p",{className:"text-gray-700 font-medium text-lg",children:"Drag and drop your task zip file here"}),(0,t.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"or click to browse"})]}),l&&(0,t.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,t.jsx)("p",{className:"text-red-600 text-sm",children:l})})]})}},7325:(e,r,a)=>{"use strict";a.d(r,{F:()=>c,R:()=>o});let t={apiUrl:a(5704).env.NEXT_PUBLIC_API_URL||"http://ec2-54-184-121-95.us-west-2.compute.amazonaws.com:5001"},n="".concat(t.apiUrl,"/api");async function o(e,r){let a=await fetch("".concat(n,"/benchmarks/").concat(e,"/runs/").concat(r,"/logs"));if(!a.ok)throw Error("Failed to fetch logs");return a.json()}let c={async uploadFile(e){let r=new FormData;r.append("file",e);let a=await fetch("".concat(n,"/upload"),{method:"POST",body:r});if(!a.ok)throw Error((await a.json()).error||"Upload failed");return a.json()},async createBenchmark(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"harbor",a=arguments.length>2?arguments[2]:void 0,t=await fetch("".concat(n,"/benchmarks"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({upload_id:e,harness:r,model:a})});if(!t.ok)throw Error((await t.json()).error||"Failed to create benchmark");return t.json()},async listBenchmarks(){let e=await fetch("".concat(n,"/benchmarks"));if(!e.ok)throw Error("Failed to fetch benchmarks");return e.json()},async getBenchmark(e){let r=await fetch("".concat(n,"/benchmarks/").concat(e));if(!r.ok)throw Error("Benchmark not found");return r.json()},async getRuns(e){let r=await fetch("".concat(n,"/benchmarks/").concat(e,"/runs"));if(!r.ok)throw Error("Failed to fetch runs");return r.json()},async getRunLogs(e,r){let a=await fetch("".concat(n,"/benchmarks/").concat(e,"/runs/").concat(r,"/logs"));if(!a.ok)throw Error("Failed to fetch logs");return a.json()}}}},e=>{e.O(0,[176,441,255,358],()=>e(e.s=4230)),_N_E=e.O()}]);